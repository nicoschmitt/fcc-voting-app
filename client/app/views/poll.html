<div ng-show="vm.message">{{vm.message}}</div>

<div class="container-fluid" ng-hide="vm.message">
  <h2>{{vm.poll.title}}</h2>
  <h5>by {{vm.poll.ownerName}}</h5>
  <div class="row">
    <div class="col-lg-6">
      <div class="list-group">
          <a ng-repeat="option in vm.poll.options" class="list-group-item" ng-class="{active: $index == vm.selectedIndex}" ng-click="vm.Select($index)">{{ option }}</a>
      </div>
      <div class="add-option" ng-show="userInfo.isAuthenticated">
        <div class="form-group" ng-show="vm.addOption">
          <label for="new-option">Add option</label>
          <input type="text" class="form-control" id="new-option" placeholder="new option" ng-model="vm.newOption">
        </div>
        <a href="" ng-click="vm.addOption = true; vm.selectedIndex = -1">
          <i class="fa fa-plus-circle"></i> add another option
        </a>
      </div>
      <button type="submit" class="btn btn-default btn-primary" ng-click="vm.Vote()">Submit</button>
      <button type="submit" class="btn btn-info" ng-click="vm.Share()" ng-show="userInfo.isAuthenticated && vm.poll.ownerEmail == userInfo.profile.email"><i class="fa fa-twitter"></i>Share</button>
      <button type="submit" class="btn btn-danger" ng-click="vm.Delete()" ng-show="userInfo.isAuthenticated && vm.poll.ownerEmail == userInfo.profile.email">Delete Poll</button>
      <div id="message"></div>
    </div>
    <div class="col-lg-6">
      <div class="chart-container">
        <canvas id="doughnut" 
                class="chart chart-doughnut chart-xs ng-isolate-scope" 
                chart-data="vm.graph.data" 
                chart-labels="vm.graph.labels" 
                chart-legend="false" 
                width="575" 
                height="287" 
                style="width: 523px; height: 261px;">
        </canvas></div>
    </div>
  </div>
</div>
